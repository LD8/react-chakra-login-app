{"version":3,"sources":["assets/wechat.svg","assets/tencentqq.svg","components/LoginExtra.js","api/index.js","components/LoginOrSignUp.js","components/App.js","theme.js","index.js"],"names":["LoginExtra","useColorMode","colorMode","toggleColorMode","spacing","w","onClick","toUpperCase","isExternal","href","src","svgWechat","filter","style","transition","_hover","svgQQ","request","axios","create","baseURL","timeout","login","data","method","url","user","register","LoginOrSignUp","isLogin","useState","show","setShow","schema","yup","username","min","max","required","email","password","useForm","resolver","yupResolver","handleSubmit","errors","formState","toast","useToast","onSubmit","values","a","signUp","token","position","description","status","duration","isClosable","setTimeout","window","open","focus","response","Object","keys","forEach","key","e","mt","isInvalid","pointerEvents","children","color","placeholder","name","ref","message","type","pr","width","h","size","colorScheme","pl","ml","isLoading","isSubmitting","App","pb","mb","pt","bg","useColorModeValue","borderRadius","boxShadow","isFitted","px","_focus","theme","extendTheme","config","initialColorMode","useSystemColorMode","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.602892ee.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/wechat.96c7538f.svg\";","export default __webpack_public_path__ + \"static/media/tencentqq.372538a8.svg\";","import React from 'react'\nimport svgWechat from '../assets/wechat.svg'\nimport svgQQ from '../assets/tencentqq.svg'\nimport { Image, Link, HStack, useColorMode, VStack, Button, Divider } from '@chakra-ui/react'\n\nconst LoginExtra = () => {\n  const { colorMode, toggleColorMode } = useColorMode()\n  return (\n    <VStack spacing={6} w=\"full\">\n      <Button w=\"100%\" onClick={toggleColorMode}>\n        Color Mode {colorMode.toUpperCase()}\n      </Button>\n      <Divider />\n      <HStack spacing={5}>\n        <Link\n          isExternal\n          href=\"https://open.weixin.qq.com/connect/qrconnect?appid=wxe9199d568fe57fdd&client_id=wxe9199d568fe57fdd&redirect_uri=https%3A%2F%2Fwww.jianshu.com%2Fusers%2Fauth%2Fwechat%2Fcallback&response_type=code&scope=snsapi_login&state=%257B%257D#wechat_redirect\"\n        >\n          <Image\n            src={svgWechat}\n            filter=\"invert(60%)\"\n            style={{ transition: 'all 0.1s ease-in-out' }}\n            _hover={{ filter: 'invert(50%)' }}\n          />\n        </Link>\n        <Link\n          isExternal\n          href=\"https://graph.qq.com/oauth2.0/show?which=Login&display=pc&client_id=100410602&redirect_uri=https%3A%2F%2Fwww.jianshu.com%2Fusers%2Fauth%2Fqq_connect%2Fcallback&response_type=code&state=%257B%257D\"\n        >\n          <Image\n            src={svgQQ}\n            filter=\"invert(60%)\"\n            style={{ transition: 'all 0.1s ease-in-out' }}\n            _hover={{ filter: 'invert(50%)' }}\n          />\n        </Link>\n      </HStack>\n    </VStack>\n  )\n}\n\nexport default LoginExtra\n","import axios from 'axios'\n\nconst request = axios.create({\n  baseURL: 'https://conduit.productionready.io/api',\n  timeout: 15000,\n})\n\n// request.interceptors.response.use(\n//   function (response) {\n//     return response\n//   },\n//   function (error) {\n//     //服务器返回的错误信息，常见的400请求错了，这里能看到400请求返回的错误信息\n//     console.log(error.response)\n//     return Promise.reject(error)\n//   },\n// )\n\n/**\n * {\"user\":{    \n    \"email\": \"jake@jake.jake\",   \n    \"password\": \"jakejake\"\n      }\n    }\n */\nexport const login = (data) =>\n  request({\n    method: 'POST',\n    url: '/users/login',\n    data: { user: data },\n  })\n\n/**\n * {\"user\":{   \n    \"username\": \"Jacob\",\n    \"email\": \"jake@jake.jake\",\n    \"password\": \"jakejake\"\n     }\n    }\n */\nexport const register = (data) =>\n  request({\n    method: 'POST',\n    url: '/users',\n    data: { user: data },\n  })\n","import React, { useState } from 'react'\nimport {\n  Button,\n  VStack,\n  Input,\n  InputGroup,\n  InputRightElement,\n  Checkbox,\n  InputLeftElement,\n  Text,\n  FormControl,\n  FormErrorMessage,\n  useToast,\n} from '@chakra-ui/react'\nimport LoginExtra from './LoginExtra'\nimport { FaUser, FaLock, FaAt } from 'react-icons/fa'\nimport { login, register as signUp } from '../api'\nimport { yupResolver } from '@hookform/resolvers/yup'\nimport * as yup from 'yup'\nimport { useForm } from 'react-hook-form'\n\nexport default function LoginOrSignUp({ isLogin = false }) {\n  const [show, setShow] = useState(false)\n  const handleClick = () => setShow(!show)\n\n  const schema = yup.object({\n    username: isLogin ? yup.string().min(6).max(15) : yup.string().min(6).max(15).required(),\n    email: yup.string().email().required(),\n    password: yup.string().min(6).max(50).required(),\n  })\n\n  const { handleSubmit, errors, register, formState } = useForm({\n    resolver: yupResolver(schema),\n  })\n  const toast = useToast()\n  const onSubmit = async (values) => {\n    try {\n      const { data } = isLogin ? await login(values) : await signUp(values)\n      if (data.user && data.user.token) {\n        toast({\n          position: 'top',\n          description: `${isLogin ? 'Login' : 'Sign up'} successfully: ${data.user.username.toUpperCase()}`,\n          status: 'info',\n          duration: 9000,\n          isClosable: true,\n        })\n        setTimeout(() => {\n          window.open('https://donlee.online', '_blank').focus()\n        }, 2500)\n      }\n    } catch (error) {\n      const errors = error.response.data.errors\n      Object.keys(errors).forEach((key) => {\n        errors[key].forEach((e) => {\n          toast({\n            position: 'top',\n            description: `${key} ${e}`,\n            status: 'error',\n            duration: 9000,\n            isClosable: true,\n          })\n        })\n      })\n    }\n  }\n\n  return (\n    <form onSubmit={handleSubmit(onSubmit)}>\n      <VStack spacing={6} mt={4}>\n        {!isLogin && (\n          <VStack w=\"full\">\n            <FormControl isInvalid={errors.username}>\n              <InputGroup>\n                <InputLeftElement pointerEvents=\"none\" children={<FaUser color=\"gray.700\" />} />\n                <Input placeholder=\"Please enter username\" name=\"username\" ref={register} />\n              </InputGroup>\n              <FormErrorMessage>{errors.username?.message}</FormErrorMessage>\n            </FormControl>\n          </VStack>\n        )}\n\n        <VStack w=\"full\">\n          <FormControl isInvalid={errors.email}>\n            <InputGroup>\n              <InputLeftElement pointerEvents=\"none\" children={<FaAt color=\"gray.700\" />} />\n              <Input type=\"email\" placeholder=\"Please enter your email\" name=\"email\" ref={register} />\n            </InputGroup>\n            <FormErrorMessage>{errors.email?.message}</FormErrorMessage>\n          </FormControl>\n        </VStack>\n\n        <VStack w=\"full\">\n          <FormControl isInvalid={errors.password}>\n            <InputGroup>\n              <InputLeftElement pointerEvents=\"none\" children={<FaLock color=\"gray.700\" />} />\n              <Input\n                pr=\"4.5rem\"\n                type={show ? 'text' : 'password'}\n                placeholder=\"Please enter password\"\n                name=\"password\"\n                ref={register}\n              />\n              <InputRightElement width=\"4.5rem\">\n                <Button h=\"1.75rem\" size=\"sm\" onClick={handleClick}>\n                  {show ? 'Hide' : 'Show'}\n                </Button>\n              </InputRightElement>\n            </InputGroup>\n            <FormErrorMessage>{errors.password?.message}</FormErrorMessage>\n          </FormControl>\n        </VStack>\n\n        {isLogin && (\n          <Checkbox colorScheme=\"teal\" w=\"full\" pl=\"3\">\n            <Text ml=\"1\">Remember me</Text>\n          </Checkbox>\n        )}\n\n        <Button w=\"100%\" colorScheme=\"teal\" type=\"submit\" isLoading={formState.isSubmitting}>\n          {isLogin ? 'Login' : 'Sign Up'}\n        </Button>\n\n        <LoginExtra />\n      </VStack>\n    </form>\n  )\n}\n","import React from 'react'\nimport LoginOrSignUp from './LoginOrSignUp'\nimport { Tabs, TabList, TabPanels, Tab, TabPanel, Center, useColorModeValue, Box } from '@chakra-ui/react'\n\nconst App = () => {\n  return (\n    <Center w=\"100vw\" h=\"100vh\" pb={10}>\n      <Box>\n        <Box\n          mb={50}\n          pt={3}\n          pb={5}\n          w=\"370px\"\n          bg={useColorModeValue('gray.50', 'gray.700')}\n          borderRadius=\"lg\"\n          boxShadow=\"dark-lg\"\n        >\n          <Tabs isFitted px={2}>\n            <TabList>\n              <Tab _focus={{}}>Login</Tab>\n              <Tab _focus={{}}>Sign Up</Tab>\n            </TabList>\n\n            <TabPanels>\n              <TabPanel>\n                <LoginOrSignUp isLogin />\n              </TabPanel>\n              <TabPanel>\n                <LoginOrSignUp />\n              </TabPanel>\n            </TabPanels>\n          </Tabs>\n        </Box>\n      </Box>\n    </Center>\n  )\n}\n\nexport default App\n","// theme.js\n// 1. import `extendTheme` function\nimport { extendTheme } from \"@chakra-ui/react\"\n// 2. Add your color mode config\nconst config = {\n  initialColorMode: \"dark\",\n  useSystemColorMode: true,\n}\n// 3. extend the theme\nconst theme = extendTheme({ config })\nexport default theme","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './components/App'\nimport { ChakraProvider, ColorModeScript } from '@chakra-ui/react'\nimport theme from './theme'\n\nReactDOM.render(\n  <ChakraProvider theme={theme}>\n    <ColorModeScript initialColorMode={theme.config.initialColorMode} />\n    <App />\n  </ChakraProvider>,\n  document.getElementById('root'),\n)\n"],"sourceRoot":""}